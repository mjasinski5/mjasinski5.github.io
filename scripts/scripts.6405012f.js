"use strict";angular.module("hackatonWebangularApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","restangular","LocalStorageModule"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).when("/components",{templateUrl:"views/component.html",controller:"ComponentsCtrl",controllerAs:"component"}).when("/auth",{controller:"AuthCtrl",template:"",resolve:{token:function(){return void 0}}}).when("/:token",{controller:"AuthCtrl",template:"",resolve:{token:["$route",function(a){return a.current.params.token}]}}).otherwise({redirectTo:"/"})}]),angular.module("hackatonWebangularApp").controller("MainCtrl",["config","LsCacheFactory",function(a,b){}]),angular.module("hackatonWebangularApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("hackatonWebangularApp").controller("ComponentsCtrl",["$scope","Component","$interval","Helper",function(a,b,c,d){a.components=[];var e=5e3,f=function(){b.GetCurrentComponentsRest().then(function(b){a.components=b,console.log(a.components),a.groups=d.ExtractGroups(a.components),console.log(a.groups)},function(){console.log("error przy pobraniu componentow")})};f(),c(function(){f(),console.log("Components updated!")},e)}]),angular.module("hackatonWebangularApp").factory("Component",["RestAngularService","LsCacheFactory",function(a,b){var c={},d=a.ComponentAll(),e=a.ComponentPrivate(),f=function(){return b.GetToken()?e.one("/intcomponent").getList():d.one("/component").getList()},g=function(){var a={components:[{status:"up",name:"Avalara Tax",position:1,description:null,id:"my6ptyy0bj3j",group_id:"7fbp8tfrjmd8"},{status:"down",name:"Builder",position:1,description:"https://builder.yaas.io",id:"mbsjjxw33ksx",group_id:"fx94tgnml2mn"},{status:"up",name:"YaaS Home",position:1,description:"https://yaas.io/home/",id:"7nz860vmkzfq",group_id:"wgy9lnp4klv3"},{status:"up",name:"Web Sites",position:1,description:null,id:"wgy9lnp4klv3",group_id:null},{status:"up",name:"Commerce Module",position:2,description:null,id:"55qd4r11qk7g",group_id:"fx94tgnml2mn"},{status:"down",name:"Services",position:2,description:null,id:"7fbp8tfrjmd8",group_id:null},{status:"up",name:"Cart",position:2,description:null,id:"3pfhh0hk46m1",group_id:"7fbp8tfrjmd8"},{status:"up",name:"Builder",position:3,description:null,id:"fx94tgnml2mn",group_id:null},{status:"up",name:"Algolia Module",position:3,description:null,id:"pxgx3l5b7zx5",group_id:"fx94tgnml2mn"},{status:"down",name:"Dev Portal",position:3,description:"https://devportal.yaas.io",id:"pck5cpwsj14j",group_id:"wgy9lnp4klv3"},{status:"up",name:"Cart Calculation",position:3,description:null,id:"jm65h7d7nv77",group_id:"7fbp8tfrjmd8"},{status:"up",name:"YaaS Market",position:4,description:"https://market.yaas.io",id:"hy49pmzwwlnc",group_id:"wgy9lnp4klv3"},{status:"up",name:"Email Templates Module",position:4,description:null,id:"zlr5w4sjh6y8",group_id:"fx94tgnml2mn"},{status:"up",name:"Category",position:4,description:null,id:"26yd7d345kj5",group_id:"7fbp8tfrjmd8"},{status:"up",name:"Checkout",position:5,description:null,id:"wbjkx9c8cff4",group_id:"7fbp8tfrjmd8"},{status:"up",name:"Storefront",position:5,description:"https://shops.yaas.io",id:"2rzjhtgtf1bv",group_id:"wgy9lnp4klv3"},{status:"up",name:"RAML Patterns",position:6,description:"https://api.yaas.io/patterns/",id:"0m152lc2xmzt",group_id:"wgy9lnp4klv3"},{status:"up",name:"Configuration",position:6,description:null,id:"qlpprwn065d8",group_id:"7fbp8tfrjmd8"},{status:"up",name:"Techne",position:7,description:null,id:"w5rwm89njqtr",group_id:"wgy9lnp4klv3"},{status:"up",name:"Coupon",position:7,description:null,id:"g09kz361hppx",group_id:"7fbp8tfrjmd8"},{status:"up",name:"Customer",position:8,description:null,id:"xgrld6s8t540",group_id:"7fbp8tfrjmd8"},{status:"up",name:"Co-Innovation Network",position:8,description:"https://community.yaas.io",id:"7mz9djjcsxg7",group_id:"wgy9lnp4klv3"},{status:"up",name:"Document",position:9,description:null,id:"5v058mc9zyrm",group_id:"7fbp8tfrjmd8"},{status:"up",name:"Email",position:10,description:null,id:"t59f9fm2v9bn",group_id:"7fbp8tfrjmd8"},{status:"up",name:"Tax",position:11,description:null,id:"yf3g6qh64jvn",group_id:"7fbp8tfrjmd8"},{status:"up",name:"Media",position:12,description:null,page_id:"2jzl9rbhcvzm",group_id:"7fbp8tfrjmd8"},{status:"up",name:"OAuth2",position:13,description:null,id:"139hdym7k7cy",group_id:"7fbp8tfrjmd8"},{status:"up",name:"Order",position:14,description:null,id:"f3c3k0b0wwxl",group_id:"7fbp8tfrjmd8"},{status:"up",name:"PCM",position:15,description:null,id:"gbvpm1166jqt",group_id:"7fbp8tfrjmd8"},{status:"up",name:"Price",position:16,description:null,id:"95w5d9s9mpfr",group_id:"7fbp8tfrjmd8"},{status:"up",name:"Product",position:17,description:null,id:"4s575ld7d51s",group_id:"7fbp8tfrjmd8"},{status:"up",name:"Product Details",position:18,description:null,id:"ycfl24t8258r",group_id:"7fbp8tfrjmd8"},{status:"up",name:"PubSub",position:19,description:null,id:"sljn38ts8bsy",group_id:"7fbp8tfrjmd8"},{status:"up",name:"Schema",position:20,description:null,id:"qyd69zhhd24j",group_id:"7fbp8tfrjmd8"},{status:"up",name:"Search",position:21,description:null,id:"g0v8vn3c4yry",group_id:"7fbp8tfrjmd8"},{status:"up",name:"Shipping Cost",position:22,description:null,id:"7np72r0k91hg",group_id:"7fbp8tfrjmd8"},{status:"up",name:"Site",position:23,description:null,id:"nn0pwy76hydl",group_id:"7fbp8tfrjmd8"},{status:"up",name:"Stripe Payment",position:24,description:null,id:"0y8znf4s7vlv",group_id:"7fbp8tfrjmd8"},{status:"up",name:"Algolia Search",position:25,description:null,id:"1mhvbt3p3tcb",group_id:"7fbp8tfrjmd8"},{status:"up",name:"Kupa",position:1,description:null,id:"001",group_id:"7fbp8tfrjmd8"},{status:"up",name:"dupa",position:1,description:null,id:"00d1",group_id:"7fbp8tfrjmd8"}]};return a.components};return c.GetCurrentComponents=g,c.GetCurrentComponentsRest=f,c}]),angular.module("hackatonWebangularApp").directive("component",function(){return{template:'<li> <button type="button" class="btn btn-{{cssClass}} btn-sm"><span class="{{spanClass}}" aria-hidden="true"> </span></button>  {{ component.name }}</div></br></li>',scope:{jsonComponent:"@element"},restrict:"E",link:function(a){a.component=JSON.parse(a.jsonComponent),a.cssClass="up"===a.component.status?"success":"danger",a.spanClass="up"===a.component.status?"glyphicon glyphicon-ok-circle":"glyphicon glyphicon-ban-circle"}}}),angular.module("hackatonWebangularApp").factory("Helper",function(){var a={},b=function(a){var b=[];return angular.forEach(a,function(a){null===a.group_id&&b.push({name:a.name,id:a.id})}),b},c=function(a,b){var c={};return a.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),function(a,b,d,e){c[b]=e}),c[b]};return a.ExtractGroups=b,a.ExtractData=c,a}),angular.module("hackatonWebangularApp").directive("groupComponent",function(){return{template:'<ul>{{group.name}} : </br> <div ng-repeat="comp in components"><component element= "{{comp}}"> </component></br></div></ul>',scope:{jsonComponents:"@components",jsonGroup:"@group"},restrict:"E",link:function(a,b,c){var d=[];a.group=JSON.parse(a.jsonGroup),angular.forEach(JSON.parse(a.jsonComponents),function(b){b.group_id===a.group.id&&d.push(b)}),a.components=d}}}),angular.module("hackatonWebangularApp").factory("RestAngularService",["Restangular","localStorageService",function(a,b){var c={},d=function(){return a.withConfig(function(a){var c=b.get("apiKey");return a.setDefaultHeaders({Authorization:"Bearer "+c}),a.setBaseUrl("https://api.yaas.io/hybris/hackaton-compon/v1/statuspage"),a})},e=function(){return a.withConfig(function(a){return a.setBaseUrl("https://api.yaas.io/hybris/hackaton-compon/v1/statuspage"),a})};return c.ComponentAll=e,c.ComponentPrivate=d,c}]),angular.module("hackatonWebangularApp").factory("config",function(){var a={};return a.oauthService=function(){return"https://api.yaas.io/hybris/oauth2/b1"},a.oauthEndpoint=function(){return"/authorize"},a.clientId=function(){return"35yJFUKpTKe0iMLuUWXS6i3aBGNn3NYX"},a.redirect_uri=function(){return"http://127.0.0.1:9000/"},a}),angular.module("hackatonWebangularApp").controller("AuthCtrl",["$scope","LsCacheFactory","$window","config","token","Helper","$location",function(a,b,c,d,e,f,g){a.errorMessage="",console.log("sdfsdf"),a.saveAuth=function(){var a=f.ExtractData(e?e:b.GetToken(),"access_token");b.SetToken(a),g.path("/components")},a.CheckAuthorize=function(){e?(a.authorized=!0,a.saveAuth()):b.GetToken()?(alert("you are logged in:)"),g.path("/components")):(a.authorized=!1,c.location.replace(d.oauthService()+d.oauthEndpoint()+"?response_type=token&client_id="+d.clientId()+"&scope=hybris.wookiees_view&redirect_uri="+d.redirect_uri()))},a.CheckAuthorize()}]),angular.module("hackatonWebangularApp").service("LsCacheFactory",["localStorageService",function(a){var b={},c=function(b){a.set("apiKey",b)},d=function(){return a.get("apiKey")};return b.SetToken=c,b.GetToken=d,b}]),angular.module("hackatonWebangularApp").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/component.html",'<div class="container"> <div ng-repeat="group in groups"> <group-component components="{{ components }}" group="{{ group }}"></group-component> </div> </div>'),a.put("views/componentdirective.html",'<div class="container"> <div class="well"> <a id="toggler" href="#" data-toggle="collapse" class="active" data-target="#demo"> <i class="icon-folder-open"></i> <i class="icon-folder-close"></i> Folder Items </a> <div id="demo" class="collapse in"> <ul class="nav nav-list"> <li class="nav-header">List header</li> <li class="active"><a href="#">Home</a></li> <li><a href="#">Library</a></li> </ul> </div> </div> </div> <!-- /container -->'),a.put("views/main.html",'<div class="jumbotron"> <h1>\'Allo, \'Allo!</h1> <p class="lead"> <img src="images/yeoman.8cb970fb.png" alt="I\'m Yeoman"><br> Always a pleasure scaffolding your apps. </p> <p><a class="btn btn-lg btn-success" ng-href="#/">Splendid!<span class="glyphicon glyphicon-ok"></span></a></p> </div> <div class="row marketing"> <h4>HTML5 Boilerplate</h4> <p> HTML5 Boilerplate is a professional front-end template for building fast, robust, and adaptable web apps or sites. </p> <h4>Angular</h4> <p> AngularJS is a toolset for building the framework most suited to your application development. </p> <h4>Karma</h4> <p>Spectacular Test Runner for JavaScript.</p> </div>')}]);